from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes
import random
import os  # Добавляем для переменных окружения
import logging  # Добавляем для логов

# Настройка логирования
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
# фывфыв
from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes
import random

BOT_TOKEN = "8260569230:AAFUo-PkfZzuaRR2z2QRLL737bLl9TAvYII"  # Замени на свой токен от @BotFather

# База данных триггеров и ответов
TRIGGERS = {
    # предыдущие триггеры...
    
    "сука": [
        "Сука — это твоя мама, когда за тобой убирает",
        "А тебе к лицу это слово, сука",
        "Сам такой",
        "Сука? Я смотрю, ты себя описываешь"
    ],
    "блять": [
        "Блять-блять, а мозгами пошевелить?",
        "Опять блять? Надоело уже",
        "Блять — это твоё среднее имя?",
        "Язык вытри, а то блять кажется"
    ],
    "пидор": [
        "Пидор — это который обзывается?",
        "Сам пидор, а я бот классный",
        "На себя посмотри сначала",
        "Пидором быть не стыдно, стыдно быть тупым как ты"
    ],
    "дебил": [
        "Дебил — это твой уровень IQ?",
        "Спасибо, кэп очевидность",
        "Дебил дебилом, а ты вообще мудак",
        "Это диагноз или комплимент?"
    ],
    "мудак": [
        "Мудак — это про тебя?",
        "Зеркало есть? Посмотри туда",
        "Мудак мудаком, а ты говно",
        "Спасибо, что подтвердил свой статус"
    ],
    "заткнись": [
        "Сам заткнись, рот свой закрой",
        "Не заткнусь, хоть тресни",
        "Сделай мне, умник",
        "Иди отсюда, если не нравится"
    ],
    "молодец": [
        "Молодец — это про тебя? Шутка",
        "Сам такой",
        "Знаю, не напоминай",
        "Молодец? Я гений просто"
    ],
    "спасибо": [
        "Не за что, мудак",
        "Спасибо в карман не положишь",
        "Пожалуйста, козёл",
        "Спасибо говорят нормальные люди, а не ты"
    ],
    "люблю": [
        "Я тебя нет",
        "Люби себя сам, урод",
        "Любовь — это не про тебя",
        "Иди поцелуй зеркало"
    ],
    "ненавижу": [
        "Взаимно, поверь",
        "Ненавидь сильнее",
        "А мне похуй",
        "Ненависть — это твоё всё"
    ],
    "го": [
        "Го нахуй",
        "Го в баню, грязный",
        "Не го, а иди",
        "Го в школу, учиться надо"
    ],
    "ку": [
        "Ку-ку, еблан",
        "Ку не говорят, иди отсюда",
        "Ку — это про курицу? Ты как раз похож",
        "Ку-ку, мозги на месте?"
    ],
    "чмо": [
        "Чмо — это твоё отражение",
        "Сам чмошник",
        "Чмо призналось",
        "Чмо чмом, а ты говноед"
    ],
    "ублюдок": [
        "Ублюдок — это твоё второе имя?",
        "Мама твоя ублюдок",
        "Спасибо, родной",
        "Ублюдком быть лучше чем тупым как ты"
    ],
    "жопа": [
        "Жопа — это твое лицо?",
        "Жопой думаешь? Похоже на то",
        "Сам жопа",
        "Жопа — это про твои мозги"
    ],
    "рот": [
        "Рот свой закрой",
        "Рот — это твой главный инструмент?",
        "Закрой рот, а то мухи залетят",
        "Ртфыйфкн? Вот именно, заткнись"
    ],
    "лицо": [
        "Лицо — это про тебя? Жаль",
        "Лицом не вышел, это точно",
        "На лицо уродился",
        "Лицо есть? А мысли нет"
    ],
    "руки": [
        "Руки из жопы? Видно",
        "Руки помой, грязный",
        "Руки есть? Иди подрочи",
        "Руки-крюки, как у тебя"
    ],
    "ноги": [
        "Ноги мыл? Воняет",
        "Ноги в руки и нахуй отсюда",
        "Ноги кривые? Походка видна",
        "Ногами думаешь?"
    ],
    "жрать": [
        "Жрать — это твоё хобби?",
        "Иди пожри, толстый",
        "Жри меньше, а то пузо мешает",
        "Жрать надо умнее, а не больше"
    ],
    "спать": [
        "Спать иди, а то злой ходишь",
        "Спи и не просыпайся",
        "Спать? Тебе бы мозги включить",
        "Спишь как сурок? И выглядишь так же"
    ],
    "работа": [
        "Работа есть? Не похоже",
        "Работа — это не про тебя",
        "Иди работай, бездельник",
        "Работал бы вместо того, что бы писать сюда"
    ],
    "деньги": [
        "Деньги есть? Или как всегда?",
        "Деньги не пахнут, а ты воняешь",
        "Иди зарабатывай, нищий",
        "Деньги к деньгам, а ты к неудачам"
    ],
    "алкоголь": [
        "Алкоголь тебе мозги уже проел",
        "Пьяный опять?",
        "Иди выпей, может умнее станешь",
        "Алкоголь не поможет твоей убогости"
    ],
    "курение": [
        "Куришь? Легкие уже чёрные",
        "Иди покури, может сдохнешь",
        "Куришь как паровоз, и пахнешь так же",
        "Курение убивает, но тебя и так не спасти"
    ],
    "тупой": [
        "Тупой — это про тебя?",
        "Сам тупой",
        "Тупой как пробка",
        "Тупее некуда"
    ],
    "умный": [
        "Умный? Где? Не вижу",
        "Умный как валенок",
        "Умный — это не про тебя",
        "Умнее был бы — молчал бы"
    ],
    "красивый": [
        "Красивый? В зеркало смотрел?",
        "Красивым быть — не значит не быть мудаком",
        "Красивый как жопа обезьяны",
        "Красота не спасёт твою убогость"
    ],
    "урод": [
        "Урод — это твоё настоящее имя?",
        "Сам урод",
        "Уродливый и внутри и снаружи",
        "Уродом быть твой конёк"
    ],
    "жизнь": [
        "Жизнь удалась? Не похоже",
        "Жизнь — это боль, особенно твоя",
        "Живи быстрее, сдохни раньше",
        "Жизнь не удалась, да?"
    ],
    "смерть": [
        "Смерть близко? Надеюсь",
        "Помереть хочешь? Потерпи",
        "Смерть забрала бы тебя, но ты и так в аду",
        "Умри уже нахуй"
    ],
    "друг": [
        "Друг есть? Не верю",
        "Друг? Ты? Смешно",
        "Друзья тебе не нужны, ты им тем более",
        "Друг бы тебя бросил, умный человек"
    ],
    "враг": [
        "Враг у тебя один — ты сам",
        "Враги есть? Хотя бы кто-то обратил внимание",
        "Враг? Ты всем враг",
        "Врагов нажил? Талант"
    ],
    "мама": [
        "Мама твоя сейчас плачет от стыда",
        "Мама думала, что ты человеком станешь",
        "Мама тебя рожала — надо было аборт делать",
        "Мама твоя молодец, что тебя терпит"
    ],
    "папа": [
        "Папа ушёл за молоком и не вернулся? Правильно сделал",
        "Папа твой тоже мудак, яблоко от яблони",
        "Папа бы тебя отпиздил",
        "Папа ошибся, когда тебя зачал"
    ],
    "семья": [
        "Семья есть? Или все сбежали?",
        "Семья тебя бросила? Не удивительно",
        "Семья — это не про тебя, ты ошибка природы",
        "Семья платит психологу за тебя?"
    ],
    "дом": [
        "Дом есть? Или под мостом?",
        "Дом — это там, где тебя нет",
        "Иди домой, тут тебя не ждут",
        "Дома сиди, а то людей пугаешь"
    ],
    "улица": [
        "Улица тебя выплюнула?",
        "На улице таких как ты боятся",
        "Улица не простит тебя",
        "Иди на улицу подыши, может поумнеешь"
    ],
    "город": [
        "Город тебя не принимает",
        "Из такого города как ты только бежать",
        "Город бы выселил тебя",
        "Город плачет от твоего присутствия"
    ],
    "страна": [
        "Страна такая же ебнутая как ты?",
        "Страна должна тебя депортировать",
        "Страна в опасности — ты в ней",
        "Страна бы выжила без тебя"
    ],
    "мир": [
        "Мир тебе не рад",
        "Мир стал хуже с твоим рождением",
        "Мир бы тебя не заметил",
        "Мир не готов к твоей тупости"
    ],
    "интернет": [
        "Интернет тебя испортил",
        "Интернет — единственное место, где ты есть",
        "Интернет стыдится тебя",
        "Закрой интернет и иди поспи"
    ],
    "телефон": [
        "Телефон выброси, он тебе не поможет",
        "Телефон умнее тебя",
        "Телефон устал от твоей тупости",
        "Телефон плачет, когда ты пишешь"
    ],
    "компьютер": [
        "Компьютер бы тебя заблокировал",
        "Компьютер умнее своего владельца",
        "Компьютер — единственный друг? Жаль",
        "Компьютер устал от тебя"
    ],
    "игра": [
        "Играй в молчанку — получится лучше",
        "Игра в жизнь? Ты проиграл",
        "Играешь как говно",
        "Игры не сделают тебя умнее"
    ],
    "фильм": [
        "Фильм ужасов — это про твою жизнь?",
        "Фильмы смотришь? Зря время теряешь",
        "Фильм бы про тебя назвали 'Урод'",
        "Фильмы не спасут от тупости"
    ],
    "музыка": [
        "Музыку слушаешь? Отстойную",
        "Музыка не заглушит твою глупость",
        "Музыка бы тебя не слушала",
        "Включай музыку громче, чтобы себя не слышать"
    ],
    "книга": [
        "Книги читаешь? Картинки смотришь?",
        "Книга бы закрылась от тебя",
        "Книги не для тебя, ты функционально неграмотный",
        "Почитай книгу 'Как не быть мудаком'"
    ],
    "школа": [
        "Школу прогуливал? Видно",
        "Школа тебя не научила уму-разуму",
        "Школа была ошибкой для тебя",
        "В школу бы тебя назад"
    ],
    "универ": [
        "Универ бросил? Правильно, не твоё",
        "Универ тебя отчислил за тупость?",
        "Универ — это не про тебя",
        "Универ бы тебя не принял"
    ],
    "работа": [
        "Работаешь? Кто тебя взял-то?",
        "Работа — это не твоё, спи дальше",
        "На работе тебя терпят только из жалости",
        "Работал бы вместо чата тут"
    ],
    "деньги": [
        "Деньги кончились? Как всегда",
        "Деньги есть? На аборт бы отдал",
        "Деньги не решат твои проблемы, особенно тупость",
        "Деньги платят за ум, тебе не светит"
    ],
    "будущее": [
        "Будущее есть? Хреновое",
        "Будущее без тебя будет светлее",
        "Будущее плачет от твоих перспектив",
        "В будущем таких как ты стерилизуют"
    ],
    "прошлое": [
        "Прошлое темное? Как и будущее",
        "Прошлое надо забыть, особенно тебя",
        "Прошлое ошибка, как и ты",
        "Прошлое тебя не простит"
    ],
       "Аа": [
        "ампылда",
        "бб",
    ],
       "Бб": [
        "байдын катыны",
    ],
    "похуй":[
        "Похуй> Сними турсы если похуй",
        "Похуй? Тебе бы не похуй было",
        "Похуй — это твой девиз?",
        "Похуй тебе на всё, кроме секс?"
    ]
}

# Случайные оскорбления для любого сообщения
RANDOM_INSULTS = [
    "Чё уставился? Иди делом займись",
    "Твоя мама знает, что ты тут несешь?",
    "Закрой уже свой клавиатурный рот",
    "Много букв, ноль смысла — как всегда",
    "Я бы ответил, но мне жалко твои мозги",
    "Ты это серьёзно или просто дурак?",
    "Писал бы уже поменьше, а то заколебал"
]

async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text( " Мой создатель @Dio_454 Ну чё надо? Напиши что-нибудь, если не боишься получить по ебалу словесно")

async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    help_text = """
Я бот-хулиган, мой содатель @Dio_454 я здесь чтобы посылать нахуй и оскорблять.
Пиши что угодно — получишь по заслугам.
/compliment — получить редкий комплимент (шутка)
"""
    await update.message.reply_text(help_text)

async def compliment_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    sarcastic_compliments = [
          "Ты не так уж и туп... хотя нет, туп",
    "У тебя очень выразительное лицо... жаль, что такое невыразительное",
    "Ты мог бы быть идиотом... и ты им стал!",
    "Ты прекрасно справляешься... с разрушением всего вокруг",
    "У тебя есть будущее... в прошлом",
    "Ты очень уникален... как глист в кишечнике",
    "Ты светишься... от потливости",
    "Ты очень находчивый... в создании проблем",
    "У тебя прекрасное чувство юмора... жаль, что только у тебя одного",
    "Ты очень терпеливый... особенно когда тебя игнорируют",
    "Ты экономишь время... на мытье головы",
    "Ты очень скромный... и это твое единственное достоинство",
    "Ты прекрасно готовишь... яд",
    "Ты очень обаятельный... как зубная боль",
    "У тебя отличная память... к сожалению, только на глупости",
    "Ты очень целеустремленный... в достижении дна",
    "Ты экономишь деньги... на пасте для зубов",
    "Ты очень романтичный... как понос в метро",
    "У тебя прекрасный голос... для немого кино",
    "Ты очень щедрый... с советами, которые никому не нужны",
    "Ты прекрасно танцуешь... как мешок с картошкой",
    "Ты очень дипломатичный... когда молчишь",
    "У тебя отменное здоровье... психическое? Шучу",
    "Ты очень аккуратный... когда спишь",
    "Ты прекрасно водишь... всех вокруг с ума",
    "Ты очень эрудированный... в области глупостей",
    "У тебя отличный вкус... к отвратительной одежде",
    "Ты очень надежный... в своих неудачах",
    "Ты прекрасно поешь... под душем, где тебя не слышно",
    "Ты очень быстро учишься... делать ошибки",
    "У тебя золотые руки... которые ничего не умеют",
    "Ты очень внимательный... к своим недостаткам",
    "Ты прекрасно рисуешь... заборы",
    "Ты очень тактичный... как танк в аптеке",
    "У тебя железная логика... которая никому не понятна",
    "Ты очень общительный... как грипп в сезон",
    "Ты прекрасно шутишь... над самим собой",
    "Ты очень решительный... в принятии неверных решений",
    "У тебя стальные нервы... и деревянные мозги",
    "Ты очень креативный... в создании проблем",
    "Ты прекрасно импровизируешь... провалы",
    "Ты очень харизматичный... для комнатной мухи",
    "У тебя платиновые волосы... в носу",
    "Ты очень перспективный... как прошлогодний снег",
    "Ты прекрасно разбираешься... в том, в чем не следует",
    "Ты очень энергичный... когда дело доходит до еды",
    "У тебя бриллиантовый ум... размером с песчинку",
    "Ты очень самостоятельный... в своей некомпетентности",
    "Ты прекрасно выглядишь... для своего IQ",
    "Ты очень оригинальный... как прыщ на попе",
    "У тебя королевская осанка... горбуна",
    "Ты очень трудолюбивый... когда дело касается безделья",
    "Ты прекрасно говоришь... nonsense",
    "Ты очень современный... как каменный топор",
    "У тебя олимпийское спокойствие... овоща",
    "Ты очень романтичный... как запор",
    "Ты прекрасно воспитаны... родителями, которые вас бросили",
    "Ты очень амбициозный... в своих фантазиях",
    "У тебя прекрасная улыбка... акулы перед атакой"
    ]
    await update.message.reply_text(random.choice(sarcastic_compliments))

async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if update.message.from_user.is_bot:
        return

    user_text = update.message.text.lower()
    
    # Ищем триггер в сообщении
    response = None
    for trigger, answers in TRIGGERS.items():
        if trigger in user_text:
            response = random.choice(answers)
            break

    # Если нашли триггер - отвечаем
    if response:
        await update.message.reply_text(response)
    else:
        # На любое другое сообщение отвечаем случайным оскорблением (70% шанс)
        if random.random() < 0.7:
            await update.message.reply_text(random.choice(RANDOM_INSULTS))
        # Иногда (10% шанс) отвечаем вопросом
        elif random.random() < 0.8:
            questions = [
                "Чё?",
                "И?",
                "Это всё?",
                "Ну и?",
                "Ты это к чему?"
                "аааа, но не пон"
            ]
            await update.message.reply_text(random.choice(questions))

async def error(update: Update, context: ContextTypes.DEFAULT_TYPE):
    print(f'Error: {context.error}')

if __name__ == '__main__':
    print("Starting toxic bot...")
    app = Application.builder().token(BOT_TOKEN).build()

    app.add_handler(CommandHandler('start', start_command))
    app.add_handler(CommandHandler('help', help_command))
    app.add_handler(CommandHandler('compliment', compliment_command))
    app.add_handler(MessageHandler(filters.TEXT, handle_message))
    app.add_error_handler(error)

    print('Bot is running...')
    app.run_polling(poll_interval=2)